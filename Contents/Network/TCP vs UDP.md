# TCP vs UDP

---
## TCP/IP 전송 계층
> 전송 계층은 응용 계층으로부터 메시지를 받아서 패킷으로 캡슐화하여 전송한다.
<br>

![image](https://github.com/user-attachments/assets/3ef79c06-1baf-4678-ac82-ac3f0a7de5c0)
<img width="702" alt="image" src="https://github.com/user-attachments/assets/9f27191a-dfbb-4f8e-9cab-67dd7d9031f0" />

---
## TCP와 UDP의 특징 및 비교

### TCP(Transfer Control Protocol)
<img width="636" alt="image" src="https://github.com/user-attachments/assets/905ef370-0051-47a5-af13-ecae3f0ea2ea" />

> 연결형, 신뢰성 전송 프로토콜 / TCP로 전송하는 패킷은 Segement라고 한다.
- **특징**:
  - 연결형 프로토콜: **데이터 전송 전에 송신자와 수신자 간에 논리적 연결**을 설정.
    - 연결 지향적 서비스를 제공하기 위해서 데이터를 전송하기 전에 **3way handshaking**을 해서 두 호스트의 전송 계층 사이에 논리적 연결을 설립한다.
  - 신뢰성 보장: 데이터가 **순서대로 전달**되고, **중복 없이** 전송, 전송 완료 후에 연결을 해제한다.
    - 신뢰성을 보장하기 위해서 header가 더 크고 속도가 비교적 느리다
  - 신뢰성을 보장하기 위한 방법
    - 흐름 제어: 송신 속도와 수신 속도를 조정하여 데이터의 손실 방지.
    - 오류 제어: 훼손된 데이터(segment) 감지 및 재전송, 순서가 맞지 않을 경우 정렬 및 중복된 건 폐기한다.
              이는 TCP header의 Checksum, 확인 응답, 타임 아웃 등을 통해 수행된다.
    - 혼잡 제어: 데이터 전송 속도를 조절한다.
  - 사용 사례: 신뢰성이 중요한 데이터 전송(예: HTTP, 파일 전송, 이메일, 웹 브라우징).

- **통신 과정**:
  1. Connection setup(연결 설정): 송수신 간 연결을 설정.
  2. Data transfer(데이터 전송): 데이터를 전송하며, 손실된 데이터는 재전송.
  3. Connection termination(연결 종료): 데이터 전송 완료 후 연결 해제.

---

### UDP(User Datagram Protocol)
<img width="647" alt="image" src="https://github.com/user-attachments/assets/43ecc8d4-58a2-407f-8358-3487e49d60d5" />

> 비연결형, 비신뢰성 전송 프로토콜 / UDP로 전송하는 패킷을 Datagram이라고 한다
- **특징**:
  - 비연결형 프로토콜: 연결 설정 없이 데이터를 송신.
    - **3way handshake** 등의 세션 수립 과정이 없다
  - 비신뢰성: 순서 보장, 재전송, 오류 검출 등을 제공하지 않음.
  - 단순하고 빠름: 오버헤드가 적고 속도가 빠르지만 데이터 신뢰성을 보장하지 않음.
  - 사용 사례: 실시간 전송(예: 동영상 스트리밍, VoIP, 온라인 게임).
    - 음성과 영상이 한프레임씩 전송될 때, 손실된 프레임을 재전송 하려면 전체적인 지연이 발생한다. <br>
      따라서, datagram으로 전송한다면 훼손되거나 손실된 패킷은 무시하고 나머지 패킷을 응용 프로그램으로 전달한다.
      
- **통신 과정**:
  - Datagram(데이터그램) 단위로 전송하며, 송신 후 확인 과정이 없음.

---

## TCP와 UDP 비교

| 특징                | TCP                                  | UDP                                  |
|---------------------|--------------------------------------|--------------------------------------|
| **연결 방식**       | 연결형(연결 설정 필요)               | 비연결형(연결 설정 없음)             |
| **신뢰성**          | 데이터의 신뢰성 보장(재전송, 순서 유지) | 신뢰성 없음(순서 보장 없음)         |
| **오류 제어**       | 체크섬, 재전송, 확인 응답            | 체크섬 제공(손실 데이터 재전송 없음) |
| **속도**            | 느림(오버헤드 큼)                   | 빠름(오버헤드 적음)                 |
| **전송 단위**       | 스트림(Stream)                      | 데이터그램(Datagram)                |
| **사용 사례**       | 파일 전송, 이메일, 웹 브라우징       | 스트리밍, 온라인 게임, VoIP         |

---

## 사용 사례 비교
- **TCP**:
  - 파일 다운로드, 이메일 송수신, 웹 서버와의 통신 등 **데이터 손실이 없어야 하는 경우**.
- **UDP**:
  - 스트리밍, 온라인 방송, 온라인 게임 등 **속도가 중요하고 약간의 데이터 손실이 허용되는 경우**.


---

### 💡면접 대비 핵심 포인트💡
## 1. TCP/UDP의 장점과 단점, 활용 방법
> 너무 깊은 내용까지는 나오지 않습니다.
